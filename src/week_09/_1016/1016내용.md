# [ 9ì£¼ì°¨ - 1016 ] ìŠ¤í„°ë”” ë‚´ìš©

```bash
    ê¸ˆì¼ ì»¤ë¦¬í˜ëŸ¼
        â”œ 09:00 ~ 14:00 backend í”„ë¡œê·¸ë˜ë° (Spring MVC Request, Modelê³¼ ModelAndView)
        â”” 14:00 ~ 18:00 backend í”„ë¡œê·¸ë˜ë° (Thymeleaf í…œí”Œë¦¿, @ModelAttribute, @PathVariable)
```

## 1. Spring MVC Request


### Request ìš”ì²­ í™•ì¸

* HttpServletRequest : ì„œë¸”ë¦¿ API ë°©ì‹ (ë¹„ê¶Œì¥)
* @RequestParam : ìŠ¤í”„ë§ MVC ë°©ì‹ (ê¶Œì¥)

```java
@Controller
@Slf4j // <- ë¡œê·¸ ì¶œë ¥ ì–´ë…¸í…Œì´ì…˜ (lombok)
public class HomeController {
    @GetMapping("/test1")
    public String test1(HttpServletRequest req) {
        // HttpServletRequest : ì„œë¸”ë¦¿ API -> ìŠ¤í”„ë§ MVCì—ì„œ ì‚¬ìš© ê°€ëŠ¥ (ë¹„ê¶Œì¥)
        System.out.println(req.getRequestURL());
        System.out.println(req.getParameter("message")); // hi
        // http://localhost:8080/test1?message=hi
        return "index";
    }
    
    @GetMapping("/")
    public String index(@RequestParam("message") String msg) {
        // @RequestParam() : ìŠ¤í”„ë§ MVCì—ì„œ ì œê³µí•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
        log.info("ë¡œê·¸ì¶œë ¥"); // <- Slf4j
        System.out.println(msg);
        // http://localhost:8080/?message=hi
        return "index";
    }
}
```

**@RequestParam ì˜µì…˜**

* name or value : ì¿¼ë¦¬íŒŒë¼ë¯¸í„° ì´ë¦„ ì§€ì •
* required : ê°’ í•„ìˆ˜ ì—¬ë¶€ (default : true)
* defaultValue : ê¸°ë³¸ê°’ ì„¤ì • (default : ì—†ìŒ)

```java
// ?message ì¿¼ë¦¬íŒŒë¼ë¯¸í„°
@RequestParam("message") String msg // ê°’ í•„ìˆ˜ (ì—†ìœ¼ë©´ 400ì—ëŸ¬)
@RequestParam(value="message", required=false, defaultValue="") String msg // ê°’ ì„ íƒ
// or
@RequestParam("message") Optional<String> msg // ê°’ ì„ íƒ
// Optional[ì…ë ¥ê°’] , Optional.empty ê°’ìœ¼ë¡œ ë°›ì•„ì§
```

---

## 2. Modelê³¼ ModelAndView

> ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë·°ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” Spring MVCì˜ í•µì‹¬ ê°ì²´ë“¤

### ê°œë… ì •ë¦¬

| êµ¬ë¶„ | Model | ModelAndView |
|------|-------|--------------|
| **ì—­í• ** | ë°ì´í„°ë§Œ ê´€ë¦¬ | ë°ì´í„° + ë·° ì´ë¦„ í•¨ê»˜ ê´€ë¦¬ |
| **ë°˜í™˜ íƒ€ì…** | String (ë·° ì´ë¦„) | ModelAndView ê°ì²´ |
| **ì‚¬ìš©ë²•** | ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì…ë°›ì•„ ì‚¬ìš© | ì§ì ‘ ìƒì„±í•˜ì—¬ ë°˜í™˜ |
| **ì í•©í•œ ìƒí™©** | ê°„ë‹¨í•œ ë°ì´í„° ì „ë‹¬ | ë³µì¡í•œ ë¡œì§ì—ì„œ ë·°ì™€ ë°ì´í„°ë¥¼ ëª…ì‹œì  ê´€ë¦¬ |

### Model ê°ì²´ ì‚¬ìš©ë²•

```java
@Controller
public class WelcomeController {
    
    @GetMapping("/")
    public String index(
            @RequestParam(value="name", required=false, defaultValue="") String name,
            @RequestParam(value="message", required=false, defaultValue="") String msg,
            Model model // Springì´ ìë™ìœ¼ë¡œ ì£¼ì…
    ) {
        // 1. Modelì— ë°ì´í„° ì¶”ê°€
        model.addAttribute("name", name);
        model.addAttribute("message", msg);
        
        // 2. ë·° ì´ë¦„ ë°˜í™˜ (ë¬¸ìì—´)
        return "index"; // ëŒ€ìƒë·° templates/index.html
    }
}
```

**Model ì£¼ìš” ë©”ì„œë“œ:**
- `addAttribute(String key, Object value)` : í‚¤-ê°’ ìŒìœ¼ë¡œ ë°ì´í„° ì¶”ê°€
- `addAttribute(Object value)` : ê°ì²´ íƒ€ì…ëª…ì„ í‚¤ë¡œ ìë™ ì„¤ì •
- `addAllAttributes(Map<String, ?> attributes)` : Map ë°ì´í„° ì¼ê´„ ì¶”ê°€

### ModelAndView ê°ì²´ ì‚¬ìš©ë²•

```java
@Controller
public class WelcomeController {
    
    @GetMapping("/index2")
    public ModelAndView index2(
            @RequestParam(value="name", required=false, defaultValue="") String name,
            @RequestParam(value="message", required=false, defaultValue="") String msg
    ) {
        // 1. ModelAndView ê°ì²´ ìƒì„±
        ModelAndView mv = new ModelAndView("index"); // ëŒ€ìƒë·° templates/index.html
        
        // 2. ë°ì´í„° ì¶”ê°€
        mv.addObject("name", name);
        mv.addObject("message", msg);

        // 3. ModelAndView ê°ì²´ ë°˜í™˜
        return mv;
    }
    
    // ë‹¤ë¥¸ ìƒì„± ë°©ë²•
    @GetMapping("/index3")
    public ModelAndView index3() {
        // ë¹ˆ ê°ì²´ ìƒì„± í›„ ë·° ì´ë¦„ ì„¤ì •
        ModelAndView mv = new ModelAndView();
        mv.setViewName("index");
        mv.addObject("title", "Welcome");
        
        return mv;
    }
}
```

**ModelAndView ì£¼ìš” ë©”ì„œë“œ:**
- `addObject(String key, Object value)` : ë°ì´í„° ì¶”ê°€
- `setViewName(String viewName)` : ë·° ì´ë¦„ ì„¤ì •
- `getModel()` : Model ê°ì²´ ë°˜í™˜
- `getViewName()` : ë·° ì´ë¦„ ë°˜í™˜


### Model vs ModelAndView ì„ íƒ ê¸°ì¤€

#### Model ì‚¬ìš©ì´ ì í•©í•œ ê²½ìš°:
- ê°„ë‹¨í•œ ë°ì´í„° ì „ë‹¬
- ë·° ì´ë¦„ì´ ê³ ì •ì ì¼ ë•Œ
- ì½”ë“œê°€ ê°„ê²°í•´ì•¼ í•  ë•Œ

#### ModelAndView ì‚¬ìš©ì´ ì í•©í•œ ê²½ìš°:
- ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ë·°ë¥¼ ë°˜í™˜í•´ì•¼ í•  ë•Œ
- ë·°ì™€ ë°ì´í„°ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ
- ë ˆê±°ì‹œ ì½”ë“œì™€ì˜ í˜¸í™˜ì„±ì´ í•„ìš”í•  ë•Œ


---

## 3. Thymeleaf í…œí”Œë¦¿ (ì¤‘ìš”ë„x)

> Java ê¸°ë°˜ì˜ ì„œë²„ ì‚¬ì´ë“œ í…œí”Œë¦¿ ì—”ì§„ìœ¼ë¡œ HTML, XML, JavaScript, CSS ë“± ë‹¤ì–‘í•œ í¬ë§· ì§€ì›

### ê¸°ë³¸ ì„¤ì •

```html
<!-- templates/index.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"> <!-- Thymeleaf ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì„ ì–¸ -->
<head>
    <meta charset="UTF-8">
    <title>ë©”ì¸ í˜ì´ì§€</title>
</head>
<body>
    <h1>Spring Boot MVC ì¸ë±ìŠ¤ í˜ì´ì§€</h1>
    
    <div>
        <ul>
            <!-- ${ë³€ìˆ˜ëª…}ìœ¼ë¡œ Model ë°ì´í„° ì°¸ì¡° -->
            <li th:text="'name: ' + ${name}"></li>
            <li th:text="'message: ' + ${message} + '~!'"></li>
            
            <!-- ì¡°ê±´ë¶€ ë Œë”ë§ -->
            <li th:if="${name != ''}" th:text="'Hello, ' + ${name} + '!'"></li>
            <li th:unless="${name != ''}" th:text="'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'"></li>
        </ul>
    </div>
</body>
</html>
```

### Thymeleaf ì£¼ìš” ë¬¸ë²•

```html
<!-- í…ìŠ¤íŠ¸ ì¶œë ¥  (th:text, th:utext)-->
<p th:text="${message}">ê¸°ë³¸ í…ìŠ¤íŠ¸</p>
<p th:utext="${htmlContent}">HTML íƒœê·¸ í¬í•¨ í…ìŠ¤íŠ¸</p>

<!-- ì†ì„± ì„¤ì • (th:value , th:href ...) -->
<input th:value="${name}" type="text">
<a th:href="@{/users/{id}(id=${user.id})}">ì‚¬ìš©ì ìƒì„¸</a>

<!-- ì¡°ê±´ë¶€ ë Œë”ë§ (th:if , th:unless) -->
<div th:if="${user.age >= 18}">ì„±ì¸ì…ë‹ˆë‹¤.</div>
<div th:unless="${user.age >= 18}">ë¯¸ì„±ë…„ìì…ë‹ˆë‹¤.</div>

<!-- ë°˜ë³µë¬¸ (th:each) -->
<ul>
    <li th:each="user : ${users}" th:text="${user.name}"></li>
</ul>

<!-- í‘œí˜„ì‹ -->
<p th:text="|Hello, ${name}!|">ë¬¸ìì—´ í•©ì¹¨</p>
<p>[[${message}]]</p> <!-- í…ìŠ¤íŠ¸ ì¸ë¼ì¸ ë°”ì¸ë”© -->
<script th:inline="javascript">
    var message = /*[[${message}]]*/ 'default';
</script>
```

### ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

* ë°ì´í„° ì¡°íšŒ

```java
@Getter // Setter ìë™ (lombok)
@Setter // getter ìë™ (lombok)
@NoArgsConstructor // ê¸°ë³¸ ìƒì„±ì ìë™ (lombok)
@AllArgsConstructor // ì „ì²´ ìƒì„±ì ìë™ (lombok)
class User {
    private int id;
    private String name;
    private int age;
    private String email;
    private long point;
}

@Controller
public class UserController {
    // ê°€ìƒë°ì´í„° ë¦¬ìŠ¤íŠ¸ (ì‹¤ì œë¡œëŠ” DBë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„)
    private static List<User> users = new ArrayList<>();
    
    // ê°€ìƒ ë°ì´í„°
    static {
        users.add(new User(1000, "ì‹ ì§±êµ¬", 25, "shin@example.com"));
        users.add(new User(1001, "ê¹€ì² ìˆ˜", 30, "kim@example.com"));
        users.add(new User(1002, "ì´ìœ ë¦¬", 24, "lee@example.com"));
    }
    

    // ìœ ì €ëª©ë¡ (localhost:8080/users)
    @GetMapping("/users")
    public String userList(Model model) {
        model.addAttribute("users", users);
        model.addAttribute("totalCount", users.size());
        model.addAttribute("currentTime", LocalDateTime.now());

        return "users/list"; // users/list.html
    }
}
```

```html
<!-- templates/users/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ì‚¬ìš©ì ëª©ë¡</title>
</head>
<body>
    <h1>ì‚¬ìš©ì ëª©ë¡ (ì´ [[${totalCount}]]ëª…)</h1>
    <p th:text="'ì¡°íšŒ ì‹œê°„: ' + ${#temporals.format(currentTime, 'yyyy-MM-dd HH:mm:ss')}"></p>

    <table border="1">
        <thead>
        <tr>
            <th>ì´ë¦„</th>
            <th>ë‚˜ì´</th>
            <th>ì„±ì¸</th>
            <th>ì´ë©”ì¼</th>
            <th>ë³´ìœ í¬ì¸íŠ¸</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user, status : ${users}">
            <td th:text="${user.name}"></td>
            <td th:text="${user.age}"></td>
            <td th:text="${user.age >= 18} ? 'ì„±ì¸' : 'ë¯¸ì„±ë…„ì'"></td>
            <td th:text="${user.email}"></td>
            <td>[[${#numbers.formatInteger(user.point, 3, 'COMMA')}]]P</td>
        </tr>
        <tr th:if="${#lists.isEmpty(users)}">
            <td colspan="4">ë“±ë¡ëœ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤.</td>
        </tr>
        </tbody>
    </table>
</body>
</html>
```

---

## 4. @ModelAttribute ê³¼ @PathVariable

### @ModelAttribute

> í¼ ë°ì´í„°(ì¿¼ë¦¬íŒŒë¼ë¯¸í„°, í¼íƒœê·¸)ë¥¼ ìë°” ê°ì²´ì— ìë™ ë°”ì¸ë”©


* `@ModelAttribute` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í¼ ë°ì´í„°ë¥¼ ê°ì²´ì— ë§¤í•‘

```java
@Controller
public class ItemController {
    // ì•„ì´í…œì„ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸ (ì‹¤ì œë¡œëŠ” DBë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„)
    private static List<Item> itemList = new ArrayList<>();

    // ì´ˆê¸° ë°ì´í„° ì„¤ì •
    static {
        itemList.add(new Item("ì‚¬ê³¼", 2000));
        itemList.add(new Item("ë°”ë‚˜ë‚˜", 2500));
        itemList.add(new Item("ë”¸ê¸°", 3000));
        itemList.add(new Item("í¬ë„", 3500));
    }

    // ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ (itemList.html)
    @GetMapping("/item/list")
    public String itemList(Model model) {
        model.addAttribute("welcomeMessage", "ì•ˆë…•!");

        model.addAttribute("items", itemList); // ë™ì ì¸ ë¦¬ìŠ¤íŠ¸ ì „ë‹¬

        return "itemList";
    }

    // ì•„ì´í…œ í¼ (itemForm.html)
    @GetMapping("/item/form")
    public String itemForm(Model model) {
        return "itemForm";
    }

    // ì•„ì´í…œ ì¶”ê°€ (-> formíƒœê·¸ action="/item/add" method="post")
    @PostMapping("/item/add") // í¼ë°ì´í„° ìˆ˜ì‹ 
    public String addItem(
        @ModelAttribute Item item // í¼ ë°ì´í„°ê°€ Item ê°ì²´ì— ìë™ ë°”ì¸ë”©
    ) {
        System.out.println("ì¶”ê°€ëœ ìƒí’ˆ: " + item.getName() + ", ê°€ê²©: " + item.getPrice());
        itemList.add(item);
        return "redirect:/item/form"; // ì•„ì´í…œ í¼ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    }
}
```

### @PathVariable

> URL ê²½ë¡œì˜ ì¼ë¶€ë¥¼ ë³€ìˆ˜ë¡œ ë§¤í•‘í•˜ì—¬ ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬

* `@PathVariable` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ URL ê²½ë¡œì˜ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ì— ë°”ì¸ë”©

```java
@Controller
public class UserController {
    // ê°€ìƒë°ì´í„° ë¦¬ìŠ¤íŠ¸ (ì‹¤ì œë¡œëŠ” DBë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„)
    private static List<User> users = new ArrayList<>();

    // ...

    // ìœ ì € ìƒì„¸ (localhost:8080/users/1001)
    @GetMapping("/users/{id}")
    public String userDetail(
        @PathVariable("id") int userId, // userId ë³€ìˆ˜ì— URL ê²½ë¡œì˜ {id} ê°’ì´ ë°”ì¸ë”©ë¨
        Model model
    ) {
        // ì•„ì´ë””ê°’ìœ¼ë¡œ ì¡°íšŒ (ì„ì‹œ)
        User user = users.stream()
                .filter(u -> u.getId() == userId)
                .findFirst()
                .orElse(null);
                
        model.addAttribute("user", user);
        return "users/detail"; // users/detail.html
    }
    
}
```

---

## 5. @Valid ìœ íš¨ì„± ê²€ì‚¬

> ì…ë ¥ ë°ì´í„°ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•  ë•Œ ì‚¬ìš©

* `@Valid` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í¼ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ê°€ëŠ¥
* `BindingResult` ê°ì²´ë¥¼ í†µí•´ ê²€ì‚¬ ê²°ê³¼ í™•ì¸

**ìœ íš¨ì„± ê²€ì‚¬ ê´€ë ¨ ì–´ë…¸í…Œì´ì…˜**

- `@NotEmpty` : ë¹ˆ ë¬¸ìì—´ì´ë‚˜ nullì´ ì•„ë‹Œì§€ ê²€ì‚¬
- `@Email` : ì´ë©”ì¼ í˜•ì‹ ê²€ì‚¬
- `@Size(min=, max=)` : ë¬¸ìì—´ ê¸¸ì´ ê²€ì‚¬
    - ex: `@Size(min=2, max=10)`
- `@Min()`, `@Max()` : ìˆ«ì ë²”ìœ„ ê²€ì‚¬
    - ex: `@Min(0)`, `@Max(100)`
- `@Pattern(regexp=)` : ì •ê·œì‹ íŒ¨í„´ ê²€ì‚¬
    -ex: `@Pattern(regexp="\\d{3}-\\d{4}")` (ì „í™”ë²ˆí˜¸ í˜•ì‹)
- `@NotNull` : nullì´ ì•„ë‹Œì§€ ê²€ì‚¬


### ì½”ë“œ ì˜ˆì‹œ

```java
@Getter
@Setter
@AllArgsConstructor
@NoArgsConstructor
public class User2 {
    @NotEmpty(message = "ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.")
    private String name;
    @NotEmpty(message = "ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”.")
    private String username;
    @NotEmpty(message = "ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.")
    @Email(message = "ì´ë©”ì¼ í˜•ì‹ì— ë§ê²Œ ì‘ì„±í•˜ì„¸ìš”.")
    private String email;
    @NotEmpty(message = "ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.")
    private String gender;
}

@Controller
@RequestMapping("/user") // '/user'ë¡œ ì‹œì‘í•˜ëŠ” ìš”ì²­ ë§¤í•‘
public class UserFormController {
    // user ì •ë³´ ì…ë ¥í¼
    @GetMapping("/register") // GET '/user/register'
    public String registerForm(Model model) {
        model.addAttribute("user2", new User2());
        return "registerForm";
    }

    // ê²€ì‚¬
    @PostMapping("/register")
    public String register(
            @Valid @ModelAttribute("user2") User2 user2, // @Valid: ìœ íš¨ì„± ê²€ì‚¬
            BindingResult res // ìœ íš¨ì„± ê²€ì‚¬ ê²°ê³¼ ê°ì²´
    ) {
        if(res.hasErrors()) { // ì˜¤ë¥˜ ìˆìœ¼ë©´ ì…ë ¥í¼ ê·¸ëŒ€ë¡œ
            return "registerForm";
        }
        return "welcome"; // ì˜¤ë¥˜ì—†ìœ¼ë©´ í•´ë‹¹ ë·°ë¡œ ì´ë™
    }
}
```

### í¼ íƒœê·¸ ì˜ˆì‹œ

* th:action, th:object, th:field, th:errors, th:if ë“± ì‚¬ìš©
    - th:action : í¼ ì œì¶œ URL
    - th:object : í¼ ë°ì´í„° ë°”ì¸ë”© ê°ì²´
    - th:field : í¼ í•„ë“œì™€ ê°ì²´ ì†ì„± ë§¤í•‘
    - #fields.hasErrors('í•„ë“œëª…') : íŠ¹ì • í¼ í•„ë“œì˜ ì˜¤ë¥˜ ì—¬ë¶€ í™•ì¸
    - th:errors : í¼ í•„ë“œì˜ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥

```html
<!-- templates/registerForm.html -->
 <!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <form th:action="@{/user/register}" th:object="${user2}" method="post">
        <div class="item">
            <div class="field">
                <label for="input-1">ì´ë¦„:</label>
                <input type="text" id="input-1" th:field="*{name}">
            </div>
            <p class="err-msg" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
        </div>
        <div class="item">
            <div class="field">
                <label for="input-2">ì•„ì´ë””:</label>
                <input type="text" id="input-2" th:field="*{username}">
            </div>
            <p class="err-msg" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
        </div>
        <div class="item">
            <div class="field">
                <label for="input-3">ì´ë©”ì¼:</label>
                <input type="email" id="input-3" th:field="*{email}">
            </div>
            <p class="err-msg" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
        </div>

        <div class="item">
            <div class="field">
                <label>ì„±ë³„:</label>
                <div class="radio-group">
                    <input type="radio" id="male" th:field="*{gender}" value="male" name="gender">
                    <label for="male">ë‚¨ì„±</label>

                    <input type="radio" id="female" th:field="*{gender}" value="female" name="gender">
                    <label for="female">ì—¬ì„±</label>
                </div>
            </div>
            <p class="err-msg" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></p>
        </div>
        <input type="submit" value="íšŒì›ê°€ì…">
    </form>
</body>
<style>
    form{display: flex; flex-direction: column; gap: 12px;}
    .item .field {display: flex; gap: 8px;}
    .item .field > label {min-width: 120px;}
    .item .radio-group {display: flex; gap: 10px; align-items: center;}
    .item .err-msg {color: red;font-size: 12px;margin: 5px 0;}
</style>
</html>
```

---

## etc


### Lombok

> Lombok ? ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ìœ¼ë¡œ ì½”ë“œë¥¼ ìë™ì™„ì„± í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

- **ëª©ì ** : getter, setter, toString, ìƒì„±ì ë“±ì˜ ë°˜ë³µì ì¸ ì½”ë“œë¥¼ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ìë™ ìƒì„±
- **ì¥ì ** : ì½”ë“œ ê°„ì†Œí™”, ê°€ë…ì„± í–¥ìƒ
- **ë‹¨ì ** : IDE í”ŒëŸ¬ê·¸ì¸ í•„ìš”, ì»´íŒŒì¼ ì‹œì ì—ì„œ ì½”ë“œ ìƒì„±ìœ¼ë¡œ ë””ë²„ê¹… ì–´ë ¤ì›€

### ì ‘ê·¼ì, ìƒì„±ì ì–´ë…¸í…Œì´ì…˜

```java
@Getter // Setter ê´€ë ¨ ë©”ì„œë“œ ìƒì„±
@Setter // getter ê´€ë ¨ ë©”ì„œë“œ ìƒì„±
@NoArgsConstructor // ê¸°ë³¸ ìƒì„±ì ìƒì„±
@AllArgsConstructor // ì „ì²´ ìƒì„±ì ìƒì„±
@ToString // toString() ìƒì„±
@EqualsAndHashCode // equals()ì™€ hashCode() ë©”ì„œë“œ ìƒì„±
class User {
    private int id;
    private String name;
    private int age;
    private String email;
    private long point;
}
```

```java
// íˆ¬ìŠ¤íŠ¸ë§ ê´€ë ¨ ì˜µì…˜
@ToString(exclude = "password") // password í•„ë“œ ì œì™¸
@ToString(includeFieldNames = false) // í•„ë“œëª… ì œì™¸í•˜ê³  ê°’ë§Œ ì¶œë ¥
@ToString(callSuper = true) // ë¶€ëª¨ í´ë˜ìŠ¤ì˜ toStringë„ í¬í•¨

// ì´í€„ì¦ˆí•´ì‹œ ê´€ë ¨ ì˜µì…˜
@EqualsAndHashCode(exclude = "age") // age í•„ë“œ ì œì™¸
@EqualsAndHashCode(callSuper = true) // ë¶€ëª¨ í´ë˜ìŠ¤ë„ í¬í•¨
```

### ë¡œê·¸ ì–´ë…¸í…Œì´ì…˜

```java
@Slf4j // ë¡œê·¸ ìƒì„±
@Controller
public class UserController {
    // ìë™ ìƒì„±ë¨:
    // private static log = LoggerFactory.getLogger(UserController.class);
    
    @GetMapping("/users")
    public String getUsers() {
        log.info("ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ ìš”ì²­");
        log.debug("ë””ë²„ê·¸ ë©”ì‹œì§€");
        log.error("ì—ëŸ¬ ë°œìƒ", new RuntimeException());
        return "users";
    }
}
```


---

### ìŠ¤í”„ë§ë¶€íŠ¸ ì¿ í‚¤ì™€ ì„¸ì…˜

> ì¿ í‚¤ì™€ ì„¸ì…˜ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ë‘ ê°€ì§€ ì£¼ìš” ë§¤ì»¤ë‹ˆì¦˜

* **ì¿ í‚¤(Cookie)** : í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì— ì €ì¥ë˜ëŠ” ì‘ì€ ë°ì´í„° ì¡°ê°
    - í´ë¼ì´ì–¸íŠ¸ ì¸¡ì— ì €ì¥
    - ë§Œë£Œì‹œê°„ ì„¤ì • ê°€ëŠ¥
    - ë„ë©”ì¸ ë‹¨ìœ„ë¡œ ê´€ë¦¬
    - ë³´ì•ˆì— ì·¨ì•½ (ì¤‘ìš”ì •ë³´ ì €ì¥ ê¸ˆì§€)

* **ì„¸ì…˜(Session)** : ì„œë²„ ì¸¡ì— ì €ì¥ë˜ëŠ” ì‚¬ìš©ì ìƒíƒœ ì •ë³´
    - ì„œë²„ ì¸¡ì— ì €ì¥
    - ì„œë²„ ë©”ëª¨ë¦¬ ì‚¬ìš© (ì„œë²„ ë¶€í•˜ ê³ ë ¤)
    - ì„¸ì…˜ IDë¥¼ ì¿ í‚¤ë¡œ ê´€ë¦¬
    - ë³´ì•ˆì— ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì „ (ì¤‘ìš”ì •ë³´ ì €ì¥ ê°€ëŠ¥)



### ì¿ í‚¤ì™€ ì„¸ì…˜ (í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê´€ê³„)

```mermaid
sequenceDiagram
    participant C as í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)
    participant S as ì„œë²„
    
    Note over C,S: ğŸª ì¿ í‚¤ ë°©ì‹
    C->>S: â‘  ì²« ë°©ë¬¸ (ë¡œê·¸ì¸ ìš”ì²­)
    S->>C: â‘¡ ì¿ í‚¤ ì„¤ì • (Set-Cookie: userId=kim)
    Note over C: ì¿ í‚¤ë¥¼ ë¸Œë¼ìš°ì €ì— ì €ì¥
    C->>S: â‘¢ ë‹¤ìŒ ìš”ì²­ ì‹œ ì¿ í‚¤ ìë™ ì „ì†¡
    Note over S: ì¿ í‚¤ì—ì„œ ì‚¬ìš©ì ì •ë³´ í™•ì¸
    
    Note over C,S: ğŸ” ì„¸ì…˜ ë°©ì‹
    C->>S: â‘£ ë¡œê·¸ì¸ ìš”ì²­
    Note over S: ì„œë²„ ë©”ëª¨ë¦¬ì— ì„¸ì…˜ ë°ì´í„° ì €ì¥
    S->>C: â‘¤ ì„¸ì…˜ IDë§Œ ì¿ í‚¤ë¡œ ì „ì†¡ (JSESSIONID)
    C->>S: â‘¥ ë‹¤ìŒ ìš”ì²­ ì‹œ ì„¸ì…˜ ID ì „ì†¡
    Note over S: ì„¸ì…˜ IDë¡œ ì„œë²„ì˜ ì„¸ì…˜ ë°ì´í„° ì¡°íšŒ
```

### ì¿ í‚¤ì™€ ì„¸ì…˜ ë¹„êµ

| êµ¬ë¶„ | ì¿ í‚¤ (Cookie) | ì„¸ì…˜ (Session) |
|------|---------------|----------------|
| **ì €ì¥ ìœ„ì¹˜** | í´ë¼ì´ì–¸íŠ¸ (ë¸Œë¼ìš°ì €) | ì„œë²„ ë©”ëª¨ë¦¬ |
| **ë³´ì•ˆì„±** | ë‚®ìŒ (í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¡°ì‘ ê°€ëŠ¥) | ë†’ìŒ (ì„œë²„ì—ì„œ ê´€ë¦¬) |
| **ì €ì¥ ìš©ëŸ‰** | ì œí•œì  (4KB) | ì„œë²„ ë©”ëª¨ë¦¬ í•œë„ ë‚´ |
| **ì„±ëŠ¥** | ë¹ ë¦„ (ì„œë²„ ë¶€í•˜ ì—†ìŒ) | ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼ (ì„œë²„ ë©”ëª¨ë¦¬ ì‚¬ìš©) |
| **ìƒëª…ì£¼ê¸°** | ë§Œë£Œì‹œê°„ ì„¤ì • ê°€ëŠ¥ | ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹œ ë˜ëŠ” íƒ€ì„ì•„ì›ƒ |
| **ì‚¬ìš© ì˜ˆì‹œ** | ì‚¬ìš©ì ì„¤ì •, ì¥ë°”êµ¬ë‹ˆ | ë¡œê·¸ì¸ ìƒíƒœ, ì¤‘ìš” ë°ì´í„° |

