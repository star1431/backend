# [ 4주차 - 0902 ] 스터디 내용

```bash
    금일 커리큘럼
        ├ 09:00 ~ 12:00 객체지향 프로그래밍 (collections, Generic)
        └ 13:00 ~ 18:00 객체지향 프로그래밍
```

## 1. collections 활용

* java.util.Collections
* 컬렉션 프레임워크에 포함된 클래스
* 컬렉션을 조작하거나 변환하는 데 사용되는 유틸리티 메서드


### 간단한 예제

```java
package week_04._0902;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;


public class ExamCollections {
    public static void main(String[] args) {
        // 인티저 ------------------------------
        System.out.println("title: 정수형 확인");
        List<Integer> list = new ArrayList<>();
        for (int i = 0; i <= 10; i++) {
            list.add(i);
        }

        Collections.shuffle(list); // 랜덤섞기
        System.out.println(list); // [8,1,3 ...]

        Collections.sort(list); // 오름차순
        System.out.println(list); // [0,1..,10]


        Collections.sort(list, Collections.reverseOrder()); // 내림차순
        System.out.println(list); // [10,9..,1]

        Collections.reverse(list); // 뒤집기
        System.out.println(list); // [0,1..,10]

        System.out.println("─".repeat(30));

        // 스트링 ------------------------------
        System.out.println("title: 스트링 확인");
        List<String> listStr = new ArrayList<>();
        listStr.add("가나");
        listStr.add("마바");
        listStr.add("다라");

        Collections.sort(listStr);
        System.out.println(listStr); // [가나, 다라, 마바]
        
        System.out.println("─".repeat(30));
    }
}
```

```Bash
# 실행 결과
title: 정수형 확인
[9, 5, 7, 2, 3, 1, 10, 6, 4, 0, 8]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
──────────────────────────────
title: 스트링 확인
[가나, 다라, 마바]
──────────────────────────────
```

### 객체 정렬 예제
```java

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;

// 테스트용 Comparable
class TestPerson implements Comparable<TestPerson> {
    private String name;
    private int age;

    public TestPerson(String name, int age) {
        this.name = name;
        this.age = age;
    }
    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }
    @Override
    public int compareTo(TestPerson o) {
        // Comparable 인터페이스 오버라이딩
        return this.age - o.age; // 나이기준
        //return this.name.compareTo(o.name); // 이름기준
    }

    @Override
    public String toString() {
        return "\nTestPerson{" +
                "name='" + name + '\'' +
                ", age=" + age +
                "}";
    }
}

public class ExamCollections {
    public static void main(String[] args) {
        List<TestPerson> list1 = new ArrayList<>();

        list1.add(new TestPerson("안녕", 1));
        list1.add(new TestPerson("가나", 30));
        list1.add(new TestPerson("다라", 10));
        list1.add(new TestPerson("마바", 20));

        // 내부 오버라이딩시 - 나이기준으로 기준 정의됨 ---------------------
        Collections.sort(list1);
        System.out.println("내부 compareTo: " + list1);
        System.out.println("─".repeat(30));

        List<TestPerson> list2 = new ArrayList<>();
        list2.add(new TestPerson("홍길동", 50));
        list2.add(new TestPerson("김철수", 30));

        // 내부 익명 예시 (Comparator) ---------------------
        Collections.sort(list2, new Comparator<TestPerson>() {
            @Override
            public int compare(TestPerson o1, TestPerson o2) {
                return o1.getName().compareTo(o2.getName()); // 이름순 기준
            }
        });
        System.out.println("list2 Comparator: " + list2);
        System.out.println("─".repeat(30));

        // 람다 - 나이 기준 정렬 (compare) ---------------------
        Collections.sort(list1, (a, b) -> Integer.compare(a.getAge(), b.getAge()));
        System.out.println("람다-나이: " + list1);
        System.out.println("─".repeat(30));


        // 람다 - 이름 기준 정렬 (compareTo) ---------------------
        Collections.sort(list1, (a, b) -> a.getName().compareTo(b.getName()));
        System.out.println("람다-이름: " + list1);
        System.out.println("─".repeat(30));

        // 컴페어투 확인
        System.out.println("'가,나' 비교: " + "가".compareTo("나")); // -1176
        System.out.println("'나,가' 비교: " + "나".compareTo("가")); // 1176
        System.out.println("'B,A' 비교: " + "B".compareTo("A")); // 1
    }
}
```

```Bash
내부 compareTo: [
TestPerson{name='안녕', age=1}, 
TestPerson{name='다라', age=10}, 
TestPerson{name='마바', age=20}, 
TestPerson{name='가나', age=30}]
──────────────────────────────
list2 Comparator: [
TestPerson{name='김철수', age=30}, 
TestPerson{name='홍길동', age=50}]
──────────────────────────────
람다-나이: [
TestPerson{name='안녕', age=1}, 
TestPerson{name='다라', age=10}, 
TestPerson{name='마바', age=20}, 
TestPerson{name='가나', age=30}]
──────────────────────────────
람다-이름: [
TestPerson{name='가나', age=30}, 
TestPerson{name='다라', age=10}, 
TestPerson{name='마바', age=20}, 
TestPerson{name='안녕', age=1}]
──────────────────────────────
가,나 비교 :-1176
나,가 비교 :1176
1
```

### Comparable 과 Comparator

* `Comparable` 인터페이스
    - implements Comparable<클래스명> 
    - 자바 객체가 자연스러운 순서로 정렬될 수 있도록 함 
    - 구현시 `compareTo` 메서드를 오버라이드하여 객체 간의 정렬 순서를 정의

```java
class TestPerson implements Comparable<TestPerson> {
    private String name;
    private int age;
    // pre code ...
    @Override
    public int compareTo(TestPerson o) {
        return this.age - o.age; // 나이 기준 오름차순
        // return this.name.compareTo(o.name); // 이름 기준
    }
    // next code ...
}
```

* `Comparator` 인터페이스
    - 객체들을 특정한 기준으로 정렬할 때 사용
    - `compare` 메서드를 오버라이드하여 두 객체를 비교하는 방식을 정의
    - `Comparable`은 내부에서 가능한 반면 `Comparator`는 **객체 외부**에서 정렬 기준을 정의
    - getter 필요함

```java
Collections.sort(list2, new Comparator<TestPerson>() {
    @Override
    public int compare(TestPerson o1, TestPerson o2) {
        // return o1.getAge - o2.getAge; // 나이 기준
        return o1.getName().compareTo(o2.getName()); // 이름 기준
    }
});
```

* 람다식 ((a, b) -> ...)
    - `Comparator`를 람다로 간단히 표현 가능

```java
// 나이 기준 정렬
Collections.sort(list1, (a, b) -> a.getAge().compareTo(b.getAge()));
// 이름 기준 정렬
Collections.sort(list1, (a, b) -> a.getName().compareTo(b.getName()));
```


## 2. 제네릭 (Generic)

> 어떤 것이든 담는 상자

* 어떤 객체가 들어올지 모를 경우 임의 타입을 정하여 사용하는 방식
    - 예: `<T>, <I>, <E>`
* 컴파일 타임에 타입 안전성을 보장함
* 형변환(casting) 불필요
* 정해진 타입만 사용하도록 강제

```java
public class GenericBox<T> {
    private T item;
    
    public T getValue() {
        return item;
    }
    public void setValue(T item) {
        this.item = item;
    }
}
```
```java
public class Pen {
    private String name;
    private int price;

    public Pen(String name,int price ){
        this.name=name;
        this.price=price;
    }

    public String getName() {
        return name;
    }

    public int getPrice() {
        return price;
    }

    public void write() {
        System.out.println(name + "을 쓴다");
    }

    @Override
    public String toString() {
        return "Pen{" +
                "name='" + name + '\'' +
                ", price=" + price +
                '}';
    }
}
```
```java
public class ExamGeneric {
    public static void main(String[] args) {
        GenericBox<Pen> penBox = new GenericBox<>();
        Pen pen1 = new Pen("볼펜",1300);
        penBox.setItem(pen1);

        System.out.println(penBox.getItem());
        // Pen{name='볼펜', price=1300}
        penBox.getItem().write();
        // 볼펜을 쓴다
    }
}
```

